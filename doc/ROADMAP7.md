# План 7
1. Добавить поле `id` в таблицу `users` в БД, сделать его первичным ключом
2. Добавить поле `id` в класс `User`

3. Добавить метод `getUsers()` в `DBWrapper`
   * Возвращает `List<User>` со всеми пользователями
4. Добавить метод `getUserById(id)` в `DBWrapper`
   * Возвращает данные пользователя с указанным `id`

5. В таблице `permissions` заменить поле `login` на поле `userId`, сделать его внешним ключом и связать с таблицей `users`

6. Добавить метод `getPermissions()` в `DBWrapper`
   * Возвращает `List<Permission>` со всеми разрешениями
7. Добавить метод `getPermissionById(id)` в `DBWrapper`
   * Возвращает разрешение с указанным `id`
8. Добавить метод `getPermissionByUser(userId)` в `DBWrapper`
   * Возвращает разрешения пользователя с указанным `userId`

9. В класс `Activity` добавить поле `id`

10. Добавить метод `getActivities()` в `DBWrapper`
   * Возвращает `List<Activity>` со всеми действиями
11. Добавить метод `getActivityById(id)` в `DBWrapper`
   * Возвращает действие с указанным `id`
12. Добавить метод `getActivityByPermission(permissionId)` в `DBWrapper`
   * Возвращает список действий с указанным разрешением

13. Заинжектить провайдер `GSON` в классы `UserServlet`, `AuthorityServlet` и `ActivityServlet`
14. Заинжектить `DBWrapper` в классы `UserServlet`, `AuthorityServlet` и `ActivityServlet`

15. Реализовать метод `UserServlet.doGet()`
    1.  Добавить проверку на наличие `id` в запросе
    2.  Если `id` присутствует получить нужного пользователя, сериализовать его и вернуть полученный json
    3.  Если `id` отсутствует получить список всех пользователей, сериализовать его и вернуть полученный json

16. Реализовать метод `AuthorityServlet.doGet()`
    1.  Добавить проверку на наличие `id` в запросе
    2.  Если `id` присутствует получить нужное разрешение, сериализовать его и вернуть полученный json
    3.  Добавить проверку на наличие `userId` в запросе
    4.  Если `userId` присутствует получить список разрешений нужного пользователя, сериализовать его и вернуть полученный json
    5.  Если `userId` отсутствует получить список всех разрешений, сериализовать его и вернуть полученный json

17. Реализовать метод `ActivityServlet.doGet()`
    6.  Добавить проверку на наличие `id` в запросе
    7.  Если `id` присутствует получить нужное действие, сериализовать его и вернуть полученный json
    8.  Добавить проверку на наличие `userId` в запросе
    9.  Если `authorityId` присутствует получить список действий с указанным разрешением, сериализовать его и вернуть полученный json
    10. Если `authorityId` отсутствует получить список всех действий, сериализовать его и вернуть полученный json

18. В классе `User` добавить аннотацию `@Expose` для всех полей кроме `salt` и `hash`
19. В классе `Permission` добавить аннотацию `@Expose` для всех полей кроме `user`
20. В классе `Activity` добавить аннотацию `@Expose` для всех полей кроме `user`, `res` и `role`
